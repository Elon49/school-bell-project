# ORT Henry Ronson - AI School Bell Generator

## Description

This project automatically generates a unique, daily school bell song for ORT Henry Ronson High School. It leverages Artificial Intelligence to create lyrics based on upcoming events in Israel and then generates music for those lyrics using another AI service. The goal is to provide a fresh and relevant school bell each day.

## How it Works

The project consists of two main Python scripts:

1.  **`google-ai-script.py`**:
    *   Uses the Google Gemini AI model (`gemini-2.0-flash`) via the `google-generativeai` library.
    *   Performs a Google Search to find significant national, cultural, religious, political, or current events expected to occur the *next day* in Israel.
    *   Prompts the AI to write short, catchy lyrics (4-8 lines) suitable for a school bell, based on the identified events.
    *   Outputs the generated lyrics to the console.

2.  **`suno-script.py`**:
    *   **Note:** Currently, this script uses hardcoded lyrics related to Purim. It needs to be modified to accept the lyrics generated by `google-ai-script.py`.
    *   Uses an external API (hosted at `apibox.erweima.ai`, likely a wrapper for Suno AI) to generate music.
    *   Sends a request to the API with the lyrics (currently hardcoded), desired style ("Israeli Pop, High BPM, Drums, Beat, Techno"), title ("ORT ISRAEL"), and other parameters.
    *   Polls the API to check the status of the generation task.
    *   Once the generation is successful, it retrieves the URLs for the generated audio (`.mp3`) and cover image (`.jpeg`).
    *   Downloads the audio and image files.
    *   Saves the files into a new directory named according to the *next day's date* and a version number (e.g., `DD-MM-YY-1`, `DD-MM-YY-2`).

The intended workflow is to run `google-ai-script.py` first to generate lyrics, then feed these lyrics into `suno-script.py` to produce the final audio file for the next day's school bell.

## Features

*   Automated daily generation of school bell songs.
*   Lyrics based on relevant, upcoming events in Israel.
*   Music generation using AI.
*   Integration with Google AI (Gemini) and Suno AI (via API).
*   Organized output into date-stamped folders.

## Setup

1.  **Clone the repository (if applicable):**
    ```bash
    git clone <repository_url>
    cd school-bell-project
    ```

2.  **Install dependencies:**
    Make sure you have Python 3 installed. Then, install the required packages:
    ```bash
    pip install requests python-dotenv google-generativeai
    ```
    *Alternatively, create a `requirements.txt` file:*
    ```
    requests
    python-dotenv
    google-generativeai
    ```
    *And install using:*
    ```bash
    pip install -r requirements.txt
    ```

3.  **Configure Environment Variables:**
    Create a file named `.env` in the `school-bell-project` directory. Add your API keys to this file:
    ```dotenv
    # .env
    SUNO_API_TOKEN="YOUR_SUNO_API_TOKEN_HERE"
    GEMINI_API_KEY="YOUR_GOOGLE_AI_API_KEY_HERE"
    ```
    *   Replace `"YOUR_SUNO_API_TOKEN_HERE"` with your token for the `apibox.erweima.ai` API used in `suno-script.py`.
    *   Replace `"YOUR_GOOGLE_AI_API_KEY_HERE"` with your Google AI (Gemini) API key used in `google-ai-script.py`.

## Usage

1.  **Generate Lyrics:**
    Run the Google AI script to generate lyrics for the next day's events:
    ```bash
    python google-ai-script.py
    ```
    Copy the generated lyrics from the console output.

2.  **Generate Music:**
    *   **Modify `suno-script.py`:** Open `suno-script.py` and replace the hardcoded `prompt` value in the `PAYLOAD` dictionary with the lyrics you copied from the previous step.
    *   Run the Suno script:
        ```bash
        python suno-script.py
        ```
    *   The script will create a task, poll for its completion, and download the `song.mp3` and `cover.jpeg` into a new folder named after tomorrow's date (e.g., `05-03-25-1`).

## Folder Structure

*   `.env`: Stores API keys (should be ignored by git).
*   `.gitignore`: Specifies files/directories to be ignored by git (like `.env`).
*   `google-ai-script.py`: Script to generate lyrics using Google AI.
*   `suno-script.py`: Script to generate music using the Suno API.
*   `suno-links.txt`: Purpose unclear, possibly for storing generated links or related information.
*   `DD-MM-YY-V/`: Directories created by `suno-script.py` (e.g., `04-03-25-1`).
    *   `song.mp3`: The generated audio file.
    *   `cover.jpeg`: The generated cover image.
    *   `status_response.json`: (Optional, if `save_response_logs` is used) Logs from the API.

## Dependencies

*   Python 3.x
*   `requests`: For making HTTP requests to the Suno API.
*   `python-dotenv`: For loading environment variables from the `.env` file.
*   `google-generativeai`: The official Google AI Python SDK for Gemini.

## TODO / Future Improvements

*   **Integrate Scripts:** Modify `suno-script.py` to programmatically receive lyrics from `google-ai-script.py` instead of using hardcoded text or manual copying. This could involve writing lyrics to a temporary file or passing them via command-line arguments.
*   **Error Handling:** Improve error handling in both scripts (e.g., API errors, network issues, file system errors).
*   **Configuration:** Move API endpoints and style prompts to a configuration file or environment variables for easier modification.
*   **Callback URL:** Implement a proper callback URL (`callBackUrl` in `suno-script.py`) if needed for asynchronous notifications from the Suno API.
*   **Logging:** Add more robust logging to track script execution and potential issues.
*   **Scheduling:** Set up a scheduler (like `cron` on Linux/macOS or Task Scheduler on Windows) to run the scripts automatically each day.
*   **Refine Prompts:** Experiment with different prompts for both Google AI and the Suno API to improve the quality and relevance of the generated bells.
*   **Clarify `suno-links.txt`:** Determine the exact purpose of this file and document it or remove it if unused. 